import{p as H,T as B,o as l,f as d,a as y,u as n,Z as L,m as U,b as t,t as o,w as D,d as N,i as P,g as r,e as k,h,y as _,F as f,q as b,v as w,s as x,k as C}from"./app-BuqfpODY.js";const T={id:"mainbody"},q={class:"main-body"},F={class:"tabs",id:"tabls",style:{"padding-bottom":"2rem"}},j={class:"str"},I=t("div",{class:"str-home"},[t("i",{class:"fa fa-home"}),t("div",{class:"db"},[t("h4",null,"Dashboard / Â "),t("p",null,"Hospital profile")])],-1),O={class:"full-chart"},G={class:"chart-title flex-class"},K=t("div",{class:"circle-success"},[t("i",{class:"fa fa-check-circle"})],-1),Q={class:"circle-text"},R={class:"full-chart"},W={class:"chart-title pb-0-px"},Z={class:"profile-card"},z={class:"profile flex-class"},J=t("div",{class:"profile-success"},[t("h4",null,"F")],-1),X={class:"profile-caption"},Y={class:"profile-menu"},tt={key:0},et={key:1},st={class:"modal d-none",id:"editModal"},ot={class:"modal-dialog"},lt=t("div",{class:"modal-head"},[t("p",null,"Approve | Reject")],-1),dt={class:"form-body"},at={class:"form-group"},nt=t("option",{value:"",hidden:""},"Change status",-1),it=t("option",{value:1},"Pendding",-1),ct=t("option",{value:2},"Approved",-1),ut=t("option",{value:3},"Decline",-1),rt=[nt,it,ct,ut],pt=t("div",{class:"modal-footer"},[t("button",null,"Save"),t("button",{class:"delete",type:"button"},"Close")],-1),ht=["value"],_t={class:"profile-tabs-new"},mt={class:"profile-tab"},vt={class:"table-st",id:"donors"},yt={class:"table-st-head"},ft=t("h4",null,"Donors Records",-1),bt={class:"table-body"},gt={class:"student-data"},Bt=t("tr",{class:"border"},[t("th",null,"#"),t("th",null,"Full name"),t("th",null,"Email"),t("th",null,"GSM"),t("th",null,"Sex"),t("th",null,"Blood group"),t("th",null,"Hiv test"),t("th",null,"State"),t("th",null,"Lga"),t("th",null,"Home address"),t("th",null,"Why app"),t("th",null,"App status"),t("th",null,"Action")],-1),kt={key:0,class:"status"},wt={key:1,class:"status-approved"},xt={key:2,class:"status-reject"},Ct=t("td",null,[t("a",{href:""},[t("i",{class:"fa fa-edit edit"})]),t("a",{href:""},[t("i",{class:"fa fa-user view"})])],-1),Et={class:"table-st d-none",id:"bloodBanks"},St={class:"table-st-head"},Vt=t("h4",null,"Blood Bank",-1),$t={class:"input-seach"},At={class:"table-body"},Mt={class:"student-data"},Ht=t("tr",{class:"border"},[t("th",null,"#"),t("th",null,"Hospital name"),t("th",null,"Hospital city"),t("th",null,"Hospital lga"),t("th",null,"Blood number"),t("th",null,"Blood group"),t("th",null,"Blood component"),t("th",null,"Quantity"),t("th",null,"Collection date"),t("th",null,"Expiry date"),t("th",null,"App status"),t("th",null,"Action")],-1),Lt=t("td",null,o(1),-1),Ut={key:0,class:"status-approved"},Dt={key:0,href:""},Nt=t("i",{class:"fa fa-plus-circle view"},null,-1),Pt=[Nt],Tt={key:1,href:""},qt=t("i",{class:"fa fa-trash edit"},null,-1),Ft=[qt],jt={class:"modal d-none",id:"addBloodBank"},It={class:"modal-blood"},Ot=t("div",{class:"modal-head"},[t("p",null,"Add Blood Banks")],-1),Gt={class:"form-body"},Kt={class:"grid"},Qt={class:"form-group"},Rt=t("option",{value:"",hidden:""},"Blood group",-1),Wt=["value"],Zt={class:"form-group"},zt=C('<option value="" hidden>Blood component</option><option value="plasma">plasma</option><option value="red blood cells">red blood cells</option><option value="white blood cells">white blood cells</option><option value="platelets">platelets</option>',5),Jt=[zt],Xt={class:"form-group"},Yt=C('<option value="" hidden>Quantity</option><option value="1 liters">1 liters</option><option value="2 liters">2 liters</option><option value="3 liters">3 liters</option><option value="4 liters">4 liters</option><option value="5 liters">5 liters</option>',6),te=[Yt],ee={class:"form-group"},se=t("label",{for:""},"Collection date",-1),oe={class:"form-group"},le=t("label",{for:""},"Expiry date",-1),de={class:"modal-footer"},ae=["disabled"],ne=t("button",{class:"delete",type:"button"},"Close",-1),ce={__name:"HospitalProfile",props:{hospotals:Array,donors:Array,bloodGroup:Array,bloodInventories:Array|Object},setup(i){const p=H();document.getElementById("selectValue");const m=a=>{{let s=document.getElementById("editModal");s.style.display="flex"}},v=B({selectVal:""}),E=function(a){if(a){const s=document.getElementById("select").value;x.post("/update-status/hospital/"+s,v).then(e=>{e.data.status==200?(p.success("Updated status sucessfully"),location.reload()):p.error("Somthing went wrong")}).catch(e=>{e.response&&e.response.status===422&&p.error("Please select status")})}},S=a=>{{let s=document.getElementById("searchBar").value;s=s.toLowerCase();let e=document.getElementsByClassName("searchtab");for(let u=0;u<e.length;u++)e[u].innerHTML.toLowerCase().includes(s)?e[u].style.display="":e[u].style.display="none"}},V=a=>{{let s=document.getElementById("searchBarBlood").value;s=s.toLowerCase();let e=document.getElementsByClassName("rowBlood");for(let u=0;u<e.length;u++)e[u].innerHTML.toLowerCase().includes(s)?e[u].style.display="":e[u].style.display="none"}},g=a=>{document.getElementById("bloodBanks").style.display="block",document.getElementById("donors").style.display="none"},$=a=>{document.getElementById("bloodBanks").style.display="none",document.getElementById("donors").style.display="block"},A=()=>{document.getElementById("addBloodBank").style.display="flex"},c=B({blood_group:"",blood_component:"",quantity:"",collection_date:"",expiry_date:""}),M=a=>{x.post("/blood-bank/create/"+a,c).then(s=>{s.data.status==200?(p.success("Updated status sucessfully"),location.reload()):(console.log(s),p.error("Somthing went wrong"))}).catch(s=>{s.response&&s.response.status===422&&p.error("Please fieald the form")})};return window.onclick=a=>{let s=document.getElementById("addBloodBank"),e=document.getElementById("editModal");a.target===s?s.style.display="none":a.target===e&&(e.style.display="none")},(a,s)=>(l(),d("div",null,[y(n(L),{title:"Hospital profile"}),y(U),t("section",T,[t("div",q,[t("div",F,[t("div",j,[I,t("div",O,[t("div",G,[K,t("div",Q,[t("p",null,"Hi, "+o(i.hospotals[0].hostpital_name)+", Welcome to your profile",1)])])]),t("div",R,[t("div",W,[t("div",Z,[t("div",z,[J,t("div",X,[t("h4",null,o(i.hospotals[0].hostpital_name),1),t("span",null,o(i.hospotals[0].moto_name),1)])]),t("div",Y,[a.$page.props.auth.user.role=="4"?(l(),d("div",tt,[y(n(P),{href:"/hostpitals/records"},{default:D(()=>[N(" Orther hospital ")]),_:1})])):a.$page.props.auth.user.role=="1"?(l(),d("div",et,[i.hospotals[0].is_active==1?(l(),d("div",{key:0,class:"pyx status",onClick:s[0]||(s[0]=e=>m())}," Pendding ")):i.hospotals[0].is_active==2?(l(),d("div",{key:1,class:"pyx status-approved",onClick:s[1]||(s[1]=e=>m())}," Approved ")):i.hospotals[0].is_active==3?(l(),d("div",{key:2,class:"pyx status-reject",onClick:s[2]||(s[2]=e=>m())}," Decline ")):r("",!0),t("div",st,[t("div",ot,[lt,t("form",{class:"modal-body",onSubmit:s[4]||(s[4]=k(e=>E(i.hospotals[0].user_id_none),["prevent"]))},[t("div",dt,[t("div",at,[h(t("select",{id:"selectValue","onUpdate:modelValue":s[3]||(s[3]=e=>n(v).selectVal=e)},rt,512),[[_,n(v).selectVal]])])]),pt],32),t("input",{type:"hidden",value:i.hospotals[0].user_id_none,id:"select"},null,8,ht)])])])):r("",!0)])]),t("div",_t,[t("div",mt,[t("li",null,[t("span",{href:"#!",onClick:s[5]||(s[5]=e=>$())},"Own donors")]),t("li",null,[t("span",{href:"#!",onClick:s[6]||(s[6]=e=>g())},"My Blood banks")]),t("li",null,[a.$page.props.auth.user.id==i.hospotals[0].user_id_none?(l(),d("span",{key:0,href:"#!",onClick:s[7]||(s[7]=e=>g())},"Edit profile")):r("",!0)])])])])]),t("div",vt,[t("div",yt,[ft,t("input",{type:"text",placeholder:"Search",onKeyup:s[8]||(s[8]=e=>S()),id:"searchBar"},null,32)]),t("div",bt,[t("table",gt,[Bt,(l(!0),d(f,null,b(i.donors,e=>(l(),d("tr",{class:"searchtab",key:e.id},[t("td",null,o(e.id),1),t("td",null,o(e.user_name),1),t("td",null,o(e.email),1),t("td",null,o(e.phone_number),1),t("td",null,o(e.gender),1),t("td",null,o(e.blood_group),1),t("td",null,o(e.hiv_test),1),t("td",null,o(e.state),1),t("td",null,o(e.lga_names),1),t("td",null,o(e.home_address),1),t("td",null,o(e.reason),1),t("td",null,[e.is_active==1?(l(),d("div",kt," Pendding ")):e.is_active==2?(l(),d("div",wt," Approved ")):e.is_active==3?(l(),d("div",xt," Decline ")):r("",!0)]),Ct]))),128))])])]),t("div",Et,[t("div",St,[Vt,t("div",$t,[t("input",{type:"text",placeholder:"Search",onKeyup:s[9]||(s[9]=e=>V()),id:"searchBarBlood"},null,32),t("div",{class:"button",onClick:A}," Add blood ")])]),t("div",At,[t("table",Mt,[Ht,(l(!0),d(f,null,b(i.bloodInventories,e=>(l(),d("tr",{class:"searchtab rowBlood",key:e.id},[Lt,t("td",null,o(e.hospital_name),1),t("td",null,o(e.hospital_city),1),t("td",null,o(e.hospital_lga),1),t("td",null,o("BG/"+e.id),1),t("td",null,o(e.blood_group),1),t("td",null,o(e.blood_component),1),t("td",null,o(e.quantity),1),t("td",null,o(e.collection_date),1),t("td",null,o(e.expiry_date),1),t("td",null,[e.is_active==1?(l(),d("div",Ut," Availabe ")):r("",!0)]),t("td",null,[a.$page.props.auth.user.role==4?(l(),d("a",Dt,Pt)):r("",!0),a.$page.props.auth.user.id==e.user_id?(l(),d("a",Tt,Ft)):r("",!0)])]))),128))]),t("div",jt,[t("div",It,[Ot,t("form",{class:"modal-body",onSubmit:s[15]||(s[15]=k(e=>M(i.hospotals[0].hospital_id),["prevent"]))},[t("div",Gt,[t("div",Kt,[t("div",Qt,[h(t("select",{"onUpdate:modelValue":s[10]||(s[10]=e=>n(c).blood_group=e)},[Rt,(l(!0),d(f,null,b(i.bloodGroup,e=>(l(),d("option",{key:e.id,value:e.id},o(e.blood_name),9,Wt))),128))],512),[[_,n(c).blood_group]])]),t("div",Zt,[h(t("select",{"onUpdate:modelValue":s[11]||(s[11]=e=>n(c).blood_component=e)},Jt,512),[[_,n(c).blood_component]])]),t("div",Xt,[h(t("select",{"onUpdate:modelValue":s[12]||(s[12]=e=>n(c).quantity=e)},te,512),[[_,n(c).quantity]])]),t("div",ee,[h(t("input",{type:"date",placeholder:" ","onUpdate:modelValue":s[13]||(s[13]=e=>n(c).collection_date=e)},null,512),[[w,n(c).collection_date]]),se]),t("div",oe,[h(t("input",{type:"date",placeholder:" ","onUpdate:modelValue":s[14]||(s[14]=e=>n(c).expiry_date=e)},null,512),[[w,n(c).expiry_date]]),le])])]),t("div",de,[t("button",{disabled:n(c).processing},"Save",8,ae),ne])],32)])])])])])])])])]))}};export{ce as default};
