import{p as v,T as f,o as d,f as i,a as r,u,Z as B,m as b,b as t,F as g,q as k,t as e,g as h,e as w,h as x,v as S,k as C,s as E}from"./app-BuqfpODY.js";const N={id:"mainbody"},V={class:"main-body"},$={class:"tabs",id:"tabls"},A={class:"str"},H=C('<div class="str-home"><i class="fa fa-home"></i><div class="db"><h4>Dashboard / Â </h4><p>Blood inventory</p></div></div><div class="full-chart"><div class="chart-title flex-class"><div class="circle-success"><i class="fa fa-check-circle"></i></div><div class="circle-text"><p>Your can burking a blood from other hospitals </p></div></div></div>',2),L={class:"table-st",id:"bloodBanks"},M={class:"table-st-head"},T=t("h4",null,"Blood Bank",-1),D={class:"input-seach"},q={class:"table-body"},F={class:"student-data"},Y=t("tr",{class:"border"},[t("th",null,"#"),t("th",null,"Hospital name"),t("th",null,"Hospital city"),t("th",null,"Hospital lga"),t("th",null,"Blood number"),t("th",null,"Blood group"),t("th",null,"Blood component"),t("th",null,"Quantity"),t("th",null,"Collection date"),t("th",null,"Expiry date"),t("th",null,"Blood status"),t("th",null,"Action")],-1),G=t("td",null,e(1),-1),K={key:0,class:"status-approved"},P=["onClick"],Q=t("i",{class:"fa fa-plus-circle view"},null,-1),U=[Q],Z=["id"],j={class:"modal-dialog"},z=t("div",{class:"modal-head"},[t("p",null,"Burking Blood ")],-1),J=["onSubmit"],O={class:"form-body"},R={class:"form-group"},W=t("div",{class:"modal-footer"},[t("button",null,"Save"),t("button",{class:"delete",type:"button"},"Close")],-1),I={__name:"BlooInventory",props:{bloodInventory:Array},setup(_){const n=v(),m=a=>{if(a){let l=document.getElementById(""+a);l.style.display="flex"}},c=f({comment:""}),p=function(a,l){a&&E.post("/buy-need-blood/"+a+"/"+l,c).then(s=>{s.data.status==200?(n.success("Your have been burking this blood"),location.reload()):(console.log(s),n.error("Somthing went wrong"))}).catch(s=>{s.response&&s.response.status===422&&n.error("Please write the comment why need blood")})},y=a=>{{let l=document.getElementById("searchBarBlood").value;l=l.toLowerCase();let s=document.getElementsByClassName("rowBlood");for(let o=0;o<s.length;o++)s[o].innerHTML.toLowerCase().includes(l)?s[o].style.display="":s[o].style.display="none"}};return(a,l)=>(d(),i("div",null,[r(u(B),{title:"Apply"}),r(b),t("section",N,[t("div",V,[t("div",$,[t("div",A,[H,t("div",L,[t("div",M,[T,t("div",D,[t("input",{type:"text",placeholder:"Search",onKeyup:l[0]||(l[0]=s=>y()),id:"searchBarBlood"},null,32)])]),t("div",q,[t("table",F,[Y,(d(!0),i(g,null,k(_.bloodInventory,s=>(d(),i("tr",{class:"searchtab rowBlood",key:s.id},[G,t("td",null,e(s.hospital_name),1),t("td",null,e(s.hospital_city),1),t("td",null,e(s.hospital_lga),1),t("td",null,e("BG/"+s.id),1),t("td",null,e(s.blood_group),1),t("td",null,e(s.blood_component),1),t("td",null,e(s.quantity),1),t("td",null,e(s.collection_date),1),t("td",null,e(s.expiry_date),1),t("td",null,[s.is_active==1?(d(),i("div",K," Availabe ")):h("",!0)]),t("td",null,[a.$page.props.auth.user.role==4?(d(),i("a",{key:0,href:"#!",onClick:o=>m(s.id)},U,8,P)):h("",!0)]),t("div",{class:"modal d-none",id:s.id},[t("div",j,[z,t("form",{class:"modal-body",onSubmit:w(o=>p(s.hospital_id,s.invent_id),["prevent"])},[t("div",O,[t("div",R,[x(t("textarea",{name:"","onUpdate:modelValue":l[1]||(l[1]=o=>u(c).comment=o)},e(s.id),513),[[S,u(c).comment]])])]),W],40,J)])],8,Z)]))),128))])])])])])])])]))}};export{I as default};
