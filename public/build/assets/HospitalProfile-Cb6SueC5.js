import{p as L,T as B,o as d,c as n,a as h,u as a,Z as U,m as D,b as t,t as o,h as N,i as P,j as T,d as r,w as k,e as _,x as y,n as j,F as f,r as g,v as w,q as E,k as x}from"./app-cVKuo59C.js";import q from"./DeleteUserForm-BgzWJ3zd.js";import F from"./UpdatePasswordForm-BsnrE1rS.js";import O from"./UpdateProfileInformationForm-HqVYFeqC.js";import"./TextInput-BjAZxj63.js";import"./PrimaryButton-DPdNoQ9m.js";const G={id:"mainbody"},K={class:"main-body"},Q={class:"tabs",id:"tabls",style:{"padding-bottom":"2rem"}},R={class:"str"},W=t("div",{class:"str-home"},[t("i",{class:"fa fa-home"}),t("div",{class:"db"},[t("h4",null,"Dashboard / Â "),t("p",null,"Hospital profile")])],-1),z={class:"full-chart"},Z={class:"chart-title flex-class"},J=t("div",{class:"circle-success"},[t("i",{class:"fa fa-check-circle"})],-1),X={class:"circle-text"},Y={class:"full-chart"},tt={class:"chart-title pb-0-px"},et={class:"profile-card"},st={class:"profile flex-class"},ot=t("div",{class:"profile-success"},[t("h4",null,"F")],-1),lt={class:"profile-caption"},dt={class:"profile-menu"},nt={key:0},at={key:1},it={class:"modal d-none",id:"editModal"},ct={class:"modal-dialog"},ut=t("div",{class:"modal-head"},[t("p",null,"Approve | Reject")],-1),rt={class:"form-body"},pt={class:"form-group"},ht=t("option",{value:"",hidden:""},"Change status",-1),_t=t("option",{value:1},"Pendding",-1),mt=t("option",{value:2},"Approved",-1),yt=t("option",{value:3},"Decline",-1),vt=[ht,_t,mt,yt],ft={class:"modal-footer"},gt=t("button",null,"Save",-1),bt=["disabled"],Bt=["value"],kt={class:"profile-tabs-new"},wt={class:"profile-tab"},Et={class:"table-st",id:"donors"},xt={class:"table-st-head"},Ct=t("h4",null,"Donors Records",-1),$t={class:"table-body"},St={class:"student-data"},Vt=t("tr",{class:"border"},[t("th",null,"#"),t("th",null,"Full name"),t("th",null,"Email"),t("th",null,"GSM"),t("th",null,"Sex"),t("th",null,"Blood group"),t("th",null,"Hiv test"),t("th",null,"State"),t("th",null,"Lga"),t("th",null,"Home address"),t("th",null,"Why app"),t("th",null,"App status"),t("th",null,"Action")],-1),At={key:0,class:"status"},Mt={key:1,class:"status-approved"},Ht={key:2,class:"status-reject"},It=t("td",null,[t("a",{href:""},[t("i",{class:"fa fa-edit edit"})]),t("a",{href:""},[t("i",{class:"fa fa-user view"})])],-1),Lt={class:"table-st d-none",id:"bloodBanks"},Ut={class:"table-st-head"},Dt=t("h4",null,"Blood Bank",-1),Nt={class:"input-seach"},Pt={class:"table-body"},Tt={class:"student-data"},jt=t("tr",{class:"border"},[t("th",null,"#"),t("th",null,"Hospital name"),t("th",null,"Hospital city"),t("th",null,"Hospital lga"),t("th",null,"Blood number"),t("th",null,"Blood group"),t("th",null,"Blood component"),t("th",null,"Quantity"),t("th",null,"Collection date"),t("th",null,"Expiry date"),t("th",null,"App status"),t("th",null,"Action")],-1),qt=t("td",null,o(1),-1),Ft={key:0,class:"status-approved"},Ot={key:0,href:""},Gt=t("i",{class:"fa fa-plus-circle view"},null,-1),Kt=[Gt],Qt={key:1,href:""},Rt=t("i",{class:"fa fa-trash edit"},null,-1),Wt=[Rt],zt={class:"modal d-none",id:"addBloodBank"},Zt={class:"modal-blood"},Jt=t("div",{class:"modal-head"},[t("p",null,"Add Blood Banks")],-1),Xt={class:"form-body"},Yt={class:"grid"},te={class:"form-group"},ee=t("option",{value:"",hidden:""},"Blood group",-1),se=["value"],oe={class:"form-group"},le=x('<option value="" hidden>Blood component</option><option value="plasma">plasma</option><option value="red blood cells">red blood cells</option><option value="white blood cells">white blood cells</option><option value="platelets">platelets</option>',5),de=[le],ne={class:"form-group"},ae=x('<option value="" hidden>Quantity</option><option value="1 liters">1 liters</option><option value="2 liters">2 liters</option><option value="3 liters">3 liters</option><option value="4 liters">4 liters</option><option value="5 liters">5 liters</option>',6),ie=[ae],ce={class:"form-group"},ue=t("label",{for:""},"Collection date",-1),re={class:"form-group"},pe=t("label",{for:""},"Expiry date",-1),he={class:"modal-footer"},_e=["disabled"],me={class:"table-st d-none",id:"profile"},ye={class:"p-4 sm:p-8 bg-white shadow sm:rounded-lg"},ve={class:"p-4 sm:p-8 bg-white shadow sm:rounded-lg"},fe={class:"p-4 sm:p-8 bg-white shadow sm:rounded-lg"},xe={__name:"HospitalProfile",props:{hospotals:Array,donors:Array,bloodGroup:Array,bloodInventories:Array|Object},setup(i){const p=L();document.getElementById("selectValue");const v=l=>{{let s=document.getElementById("editModal");s.style.display="flex"}},m=B({selectVal:""}),C=function(l){if(l){const s=document.getElementById("select").value;E.post("/update-status/hospital/"+s,m).then(e=>{e.data.status==200?(p.success("Updated status sucessfully"),document.getElementById("editModal").style.display="none",location.reload()):p.error("Somthing went wrong")}).catch(e=>{e.response&&e.response.status===422?p.error("Please select status"):p.error("Somthing went wrong")})}},$=l=>{{let s=document.getElementById("searchBar").value;s=s.toLowerCase();let e=document.getElementsByClassName("searchtab");for(let u=0;u<e.length;u++)e[u].innerHTML.toLowerCase().includes(s)?e[u].style.display="":e[u].style.display="none"}},S=l=>{{let s=document.getElementById("searchBarBlood").value;s=s.toLowerCase();let e=document.getElementsByClassName("rowBlood");for(let u=0;u<e.length;u++)e[u].innerHTML.toLowerCase().includes(s)?e[u].style.display="":e[u].style.display="none"}},V=l=>{document.getElementById("bloodBanks").style.display="block",document.getElementById("donors").style.display="none",document.getElementById("profile").style.display="none"},A=l=>{document.getElementById("bloodBanks").style.display="none",document.getElementById("profile").style.display="none",document.getElementById("donors").style.display="block"},M=l=>{document.getElementById("bloodBanks").style.display="none",document.getElementById("donors").style.display="none",document.getElementById("profile").style.display="block"},H=()=>{document.getElementById("addBloodBank").style.display="flex"},c=B({blood_group:"",blood_component:"",quantity:"",collection_date:"",expiry_date:""}),I=l=>{E.post("/blood-bank/create/"+l,c).then(s=>{s.data.status==200?(p.success("Updated status sucessfully"),location.reload()):(console.log(s),p.error("Somthing went wrong"))}).catch(s=>{s.response&&s.response.status===422&&p.error("Please fieald the form")})},b=l=>{document.getElementById("editModal").style.display="none",document.getElementById("addBloodBank").style.display="none"};return window.onclick=l=>{let s=document.getElementById("addBloodBank"),e=document.getElementById("editModal");l.target===s?s.style.display="none":l.target===e&&(e.style.display="none")},(l,s)=>(d(),n("div",null,[h(a(U),{title:"Hospital profile"}),h(D),t("section",G,[t("div",K,[t("div",Q,[t("div",R,[W,t("div",z,[t("div",Z,[J,t("div",X,[t("p",null,"Hi, "+o(i.hospotals[0].hostpital_name)+", Welcome to your profile",1)])])]),t("div",Y,[t("div",tt,[t("div",et,[t("div",st,[ot,t("div",lt,[t("h4",null,o(i.hospotals[0].hostpital_name),1),t("span",null,o(i.hospotals[0].moto_name),1)])]),t("div",dt,[l.$page.props.auth.user.role=="4"?(d(),n("div",nt,[h(a(T),{href:"/hostpitals/records"},{default:N(()=>[P(" Orther hospital ")]),_:1})])):l.$page.props.auth.user.role=="1"?(d(),n("div",at,[i.hospotals[0].is_active==1?(d(),n("div",{key:0,class:"pyx status",onClick:s[0]||(s[0]=e=>v())}," Pendding ")):i.hospotals[0].is_active==2?(d(),n("div",{key:1,class:"pyx status-approved",onClick:s[1]||(s[1]=e=>v())}," Approved ")):i.hospotals[0].is_active==3?(d(),n("div",{key:2,class:"pyx status-reject",onClick:s[2]||(s[2]=e=>v())}," Decline ")):r("",!0),t("div",it,[t("div",ct,[ut,t("form",{class:"modal-body",onSubmit:s[5]||(s[5]=k(e=>C(i.hospotals[0].user_id_none),["prevent"]))},[t("div",rt,[t("div",pt,[_(t("select",{id:"selectValue","onUpdate:modelValue":s[3]||(s[3]=e=>a(m).selectVal=e)},vt,512),[[y,a(m).selectVal]])])]),t("div",ft,[gt,t("button",{class:j(["delete",{"opacity-25":a(m).processing}]),type:"button",onClick:s[4]||(s[4]=e=>b()),disabled:a(m).processing}," Close ",10,bt)])],32),t("input",{type:"hidden",value:i.hospotals[0].user_id_none,id:"select"},null,8,Bt)])])])):r("",!0)])]),t("div",kt,[t("div",wt,[t("li",null,[t("span",{href:"#!",onClick:s[6]||(s[6]=e=>A())},"Own donors")]),t("li",null,[t("span",{href:"#!",onClick:s[7]||(s[7]=e=>V())},"My Blood banks")]),t("li",null,[l.$page.props.auth.user.id==i.hospotals[0].user_id_none?(d(),n("span",{key:0,href:"#!",onClick:s[8]||(s[8]=e=>M())},"Edit profile")):r("",!0)])])])])]),t("div",Et,[t("div",xt,[Ct,t("input",{type:"text",placeholder:"Search",onKeyup:s[9]||(s[9]=e=>$()),id:"searchBar"},null,32)]),t("div",$t,[t("table",St,[Vt,(d(!0),n(f,null,g(i.donors,e=>(d(),n("tr",{class:"searchtab",key:e.id},[t("td",null,o(e.id),1),t("td",null,o(e.user_name),1),t("td",null,o(e.email),1),t("td",null,o(e.phone_number),1),t("td",null,o(e.gender),1),t("td",null,o(e.blood_group),1),t("td",null,o(e.hiv_test),1),t("td",null,o(e.state),1),t("td",null,o(e.lga_names),1),t("td",null,o(e.home_address),1),t("td",null,o(e.reason),1),t("td",null,[e.is_active==1?(d(),n("div",At,"Pendding")):e.is_active==2?(d(),n("div",Mt," Approved ")):e.is_active==3?(d(),n("div",Ht," Decline ")):r("",!0)]),It]))),128))])])]),t("div",Lt,[t("div",Ut,[Dt,t("div",Nt,[t("input",{type:"text",placeholder:"Search",onKeyup:s[10]||(s[10]=e=>S()),id:"searchBarBlood"},null,32),l.$page.props.auth.user.id==i.hospotals[0].user_id_none?(d(),n("div",{key:0,class:"button",onClick:H}," Add blood ")):r("",!0)])]),t("div",Pt,[t("table",Tt,[jt,(d(!0),n(f,null,g(i.bloodInventories,e=>(d(),n("tr",{class:"searchtab rowBlood",key:e.id},[qt,t("td",null,o(e.hospital_name),1),t("td",null,o(e.hospital_city),1),t("td",null,o(e.hospital_lga),1),t("td",null,o("BG/"+e.id),1),t("td",null,o(e.blood_group),1),t("td",null,o(e.blood_component),1),t("td",null,o(e.quantity),1),t("td",null,o(e.collection_date),1),t("td",null,o(e.expiry_date),1),t("td",null,[e.is_active==1?(d(),n("div",Ft," Availabe ")):r("",!0)]),t("td",null,[l.$page.props.auth.user.role==4?(d(),n("a",Ot,Kt)):r("",!0),l.$page.props.auth.user.id==e.user_id?(d(),n("a",Qt,Wt)):r("",!0)])]))),128))]),t("div",zt,[t("div",Zt,[Jt,t("form",{class:"modal-body",onSubmit:s[17]||(s[17]=k(e=>I(i.hospotals[0].hospital_id),["prevent"]))},[t("div",Xt,[t("div",Yt,[t("div",te,[_(t("select",{"onUpdate:modelValue":s[11]||(s[11]=e=>a(c).blood_group=e)},[ee,(d(!0),n(f,null,g(i.bloodGroup,e=>(d(),n("option",{key:e.id,value:e.id},o(e.blood_name),9,se))),128))],512),[[y,a(c).blood_group]])]),t("div",oe,[_(t("select",{"onUpdate:modelValue":s[12]||(s[12]=e=>a(c).blood_component=e)},de,512),[[y,a(c).blood_component]])]),t("div",ne,[_(t("select",{"onUpdate:modelValue":s[13]||(s[13]=e=>a(c).quantity=e)},ie,512),[[y,a(c).quantity]])]),t("div",ce,[_(t("input",{type:"date",placeholder:" ","onUpdate:modelValue":s[14]||(s[14]=e=>a(c).collection_date=e)},null,512),[[w,a(c).collection_date]]),ue]),t("div",re,[_(t("input",{type:"date",placeholder:" ","onUpdate:modelValue":s[15]||(s[15]=e=>a(c).expiry_date=e)},null,512),[[w,a(c).expiry_date]]),pe])])]),t("div",he,[t("button",{disabled:a(c).processing},"Save",8,_e),t("button",{class:"delete",type:"button",onClick:s[16]||(s[16]=e=>b())},"Close")])],32)])])])]),t("div",me,[t("div",ye,[h(O,{"must-verify-email":l.mustVerifyEmail,status:l.status,class:"max-w-xl"},null,8,["must-verify-email","status"])]),t("div",ve,[h(F,{class:"max-w-xl"})]),t("div",fe,[h(q,{class:"max-w-xl"})])])])])])])]))}};export{xe as default};
