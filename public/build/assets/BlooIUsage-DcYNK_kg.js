import{p as y,T as f,o as d,c,a as n,u as B,Z as v,m as g,b as t,F as b,r as k,t as e,d as u,w,k as x,q as S}from"./app-MHH2OR-o.js";const A={id:"mainbody"},C={class:"main-body"},N={class:"tabs",id:"tabls"},E={class:"str"},U=x('<div class="str-home"><i class="fa fa-home"></i><div class="db"><h4>Dashboard / Â </h4><p>Blood Usage | Accepted</p></div></div><div class="full-chart"><div class="chart-title flex-class"><div class="circle-success"><i class="fa fa-check-circle"></i></div><div class="circle-text"><p>Your Blood Usage | Accepted a blood from other hospitals </p></div></div></div>',2),H={class:"table-st",id:"bloodBanks"},L={class:"table-st-head"},V=t("h4",null,"Blood Usage | Accepted",-1),$={class:"input-seach"},M={class:"table-body"},T={class:"student-data"},q=t("tr",{class:"border"},[t("th",null,"#"),t("th",null,"Hospital name"),t("th",null,"Hospital city"),t("th",null,"Hospital lga"),t("th",null,"Blood number"),t("th",null,"Blood group"),t("th",null,"Blood component"),t("th",null,"Quantity"),t("th",null,"Collection date"),t("th",null,"Expiry date"),t("th",null,"Accept date"),t("th",null,"Blood status"),t("th",null,"Accept")],-1),D=t("td",null,e(1),-1),F={key:0,class:"status-approved"},Y={class:"text-center"},G=["onClick"],K=t("i",{class:"fa fa-plus-circle view"},null,-1),P=[K],Q=["id"],Z={class:"modal-dialog"},j=t("div",{class:"modal-head"},[t("p",null,"Burking Blood ")],-1),z=["onSubmit"],J=t("div",{class:"form-body"}," Are you sure you have been collect the blood ",-1),O=t("div",{class:"modal-footer"},[t("button",null,"Save"),t("button",{class:"delete",type:"button"},"Close")],-1),R=[J,O],X={__name:"BlooIUsage",props:{bloodInventory:Array},setup(h){const i=y(),r=o=>{if(o){let l=document.getElementById(""+o);l.style.display="flex"}},_=f({comment:""}),p=function(o,l){o&&S.post("/accepted-blood/"+o+"/"+l,_).then(s=>{s.data.status==200?(i.success("Your have been burking this blood"),location.reload()):(console.log(s),i.error("Somthing went wrong"))}).catch(s=>{s.response&&s.response.status===422&&i.error("Please write the comment why need blood")})},m=o=>{{let l=document.getElementById("searchBarBlood").value;l=l.toLowerCase();let s=document.getElementsByClassName("rowBlood");for(let a=0;a<s.length;a++)s[a].innerHTML.toLowerCase().includes(l)?s[a].style.display="":s[a].style.display="none"}};return(o,l)=>(d(),c("div",null,[n(B(v),{title:"Apply"}),n(g),t("section",A,[t("div",C,[t("div",N,[t("div",E,[U,t("div",H,[t("div",L,[V,t("div",$,[t("input",{type:"text",placeholder:"Search",onKeyup:l[0]||(l[0]=s=>m()),id:"searchBarBlood"},null,32)])]),t("div",M,[t("table",T,[q,(d(!0),c(b,null,k(h.bloodInventory,s=>(d(),c("tr",{class:"searchtab rowBlood",key:s.id},[D,t("td",null,e(s.hospital_name),1),t("td",null,e(s.hospital_city),1),t("td",null,e(s.hospital_lga),1),t("td",null,e("BG/"+s.id),1),t("td",null,e(s.blood_group),1),t("td",null,e(s.blood_component),1),t("td",null,e(s.quantity),1),t("td",null,e(s.collection_date),1),t("td",null,e(s.expiry_date),1),t("td",null,e(s.accept_date),1),t("td",null,[s.is_active==2?(d(),c("div",F," Usage ")):u("",!0)]),t("td",Y,[s.accept_date=="Not collect"?(d(),c("a",{key:0,href:"#!",onClick:a=>r(s.id)},P,8,G)):u("",!0)]),t("div",{class:"modal d-none",id:s.id},[t("div",Z,[j,t("form",{class:"modal-body",onSubmit:w(a=>p(s.hospital_id,s.blood_usage_id),["prevent"])},R,40,z)])],8,Q)]))),128))])])])])])])])]))}};export{X as default};
