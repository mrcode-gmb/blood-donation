import{p as y,T as f,o as d,f as i,a as r,u,Z as v,m as B,b as t,F as b,q as g,t as l,g as x,e as k,h as w,v as S,k as C,s as E}from"./app-t18u1oqw.js";const N={class:"main"},V={id:"mainbody"},H={class:"main-body"},L={class:"tabs",id:"tabls"},M={class:"str"},T=C('<div class="str-home"><i class="fa fa-home"></i><div class="db"><h4>Dashboard / Â </h4><p>Blood expired</p></div></div><div class="full-chart"><div class="chart-title flex-class"><div class="circle-success" style="background:red;"><i class="fa fa-question"></i></div><div class="circle-text"><p>Your blood has been expired </p></div></div></div>',2),$={class:"table-st",id:"bloodBanks"},q={class:"table-st-head"},A=t("h4",null,"Blood Bank Expired",-1),D={class:"input-seach"},F={class:"table-body"},Y={class:"student-data"},j=t("tr",{class:"border"},[t("th",null,"#"),t("th",null,"Hospital name"),t("th",null,"Hospital city"),t("th",null,"Hospital lga"),t("th",null,"Blood number"),t("th",null,"Blood group"),t("th",null,"Blood component"),t("th",null,"Quantity"),t("th",null,"Collection date"),t("th",null,"Expiry date"),t("th",null,"Blood status"),t("th",null,"Action")],-1),G=t("td",null,l(1),-1),K={key:0,class:"status-reject"},P=["onClick"],Q=t("i",{class:"fa fa-trash view"},null,-1),U=[Q],Z=["id"],z={class:"modal-dialog"},J=t("div",{class:"modal-head"},[t("p",null,"Burking Blood ")],-1),O=["onSubmit"],R={class:"form-body"},W={class:"form-group"},X=t("div",{class:"modal-footer"},[t("button",null,"Save"),t("button",{class:"delete",type:"button"},"Close")],-1),tt={__name:"BloodExpired",props:{bloodInventory:Array},setup(h){const n=y(),_=a=>{if(a){let e=document.getElementById(""+a);e.style.display="flex"}},c=f({comment:""}),m=function(a,e){a&&E.post("/buy-need-blood/"+a+"/"+e,c).then(s=>{s.data.status==200?(n.success("Your have been burking this blood"),location.reload()):(console.log(s),n.error("Somthing went wrong"))}).catch(s=>{s.response&&s.response.status===422&&n.error("Please write the comment why need blood")})},p=a=>{{let e=document.getElementById("searchBarBlood").value;e=e.toLowerCase();let s=document.getElementsByClassName("rowBlood");for(let o=0;o<s.length;o++)s[o].innerHTML.toLowerCase().includes(e)?s[o].style.display="":s[o].style.display="none"}};return(a,e)=>(d(),i("div",N,[r(u(v),{title:"Apply"}),r(B),t("section",V,[t("div",H,[t("div",L,[t("div",M,[T,t("div",$,[t("div",q,[A,t("div",D,[t("input",{type:"text",placeholder:"Search",onKeyup:e[0]||(e[0]=s=>p()),id:"searchBarBlood"},null,32)])]),t("div",F,[t("table",Y,[j,(d(!0),i(b,null,g(h.bloodInventory,s=>(d(),i("tr",{class:"searchtab rowBlood",key:s.id},[G,t("td",null,l(s.hospital_name),1),t("td",null,l(s.hospital_city),1),t("td",null,l(s.hospital_lga),1),t("td",null,l("BG/"+s.id),1),t("td",null,l(s.blood_group),1),t("td",null,l(s.blood_component),1),t("td",null,l(s.quantity),1),t("td",null,l(s.collection_date),1),t("td",null,l(s.expiry_date),1),t("td",null,[s.is_active==1?(d(),i("div",K," Expired ")):x("",!0)]),t("td",null,[t("a",{href:"#!",onClick:o=>_(s.id)},U,8,P)]),t("div",{class:"modal d-none",id:s.id},[t("div",z,[J,t("form",{class:"modal-body",onSubmit:k(o=>m(s.hospital_id,s.invent_id),["prevent"])},[t("div",R,[t("div",W,[w(t("textarea",{name:"","onUpdate:modelValue":e[1]||(e[1]=o=>u(c).comment=o)},l(s.id),513),[[S,u(c).comment]])])]),X],40,O)])],8,Z)]))),128))])])])])])])])]))}};export{tt as default};
