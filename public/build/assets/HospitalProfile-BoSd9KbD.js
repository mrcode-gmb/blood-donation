import{p as I,T as g,o as d,c as n,a as h,u as a,Z as L,m as U,b as t,t as o,h as D,i as N,j as P,d as r,w as B,e as _,x as m,F as f,r as b,v as k,q as w,k as x}from"./app-O9VWeMV6.js";import T from"./DeleteUserForm-B2U9DzKA.js";import j from"./UpdatePasswordForm-BlMyZ1zQ.js";import q from"./UpdateProfileInformationForm-hkGQz5Q-.js";import"./TextInput-CR-8sj11.js";import"./PrimaryButton-Dmg89eKF.js";const F={id:"mainbody"},O={class:"main-body"},G={class:"tabs",id:"tabls",style:{"padding-bottom":"2rem"}},K={class:"str"},Q=t("div",{class:"str-home"},[t("i",{class:"fa fa-home"}),t("div",{class:"db"},[t("h4",null,"Dashboard / Â "),t("p",null,"Hospital profile")])],-1),R={class:"full-chart"},W={class:"chart-title flex-class"},Z=t("div",{class:"circle-success"},[t("i",{class:"fa fa-check-circle"})],-1),z={class:"circle-text"},J={class:"full-chart"},X={class:"chart-title pb-0-px"},Y={class:"profile-card"},tt={class:"profile flex-class"},et=t("div",{class:"profile-success"},[t("h4",null,"F")],-1),st={class:"profile-caption"},ot={class:"profile-menu"},lt={key:0},dt={key:1},nt={class:"modal d-none",id:"editModal"},at={class:"modal-dialog"},it=t("div",{class:"modal-head"},[t("p",null,"Approve | Reject")],-1),ct={class:"form-body"},ut={class:"form-group"},rt=t("option",{value:"",hidden:""},"Change status",-1),pt=t("option",{value:1},"Pendding",-1),ht=t("option",{value:2},"Approved",-1),_t=t("option",{value:3},"Decline",-1),mt=[rt,pt,ht,_t],vt=t("div",{class:"modal-footer"},[t("button",null,"Save"),t("button",{class:"delete",type:"button"},"Close")],-1),yt=["value"],ft={class:"profile-tabs-new"},bt={class:"profile-tab"},gt={class:"table-st",id:"donors"},Bt={class:"table-st-head"},kt=t("h4",null,"Donors Records",-1),wt={class:"table-body"},xt={class:"student-data"},Et=t("tr",{class:"border"},[t("th",null,"#"),t("th",null,"Full name"),t("th",null,"Email"),t("th",null,"GSM"),t("th",null,"Sex"),t("th",null,"Blood group"),t("th",null,"Hiv test"),t("th",null,"State"),t("th",null,"Lga"),t("th",null,"Home address"),t("th",null,"Why app"),t("th",null,"App status"),t("th",null,"Action")],-1),Ct={key:0,class:"status"},$t={key:1,class:"status-approved"},St={key:2,class:"status-reject"},Vt=t("td",null,[t("a",{href:""},[t("i",{class:"fa fa-edit edit"})]),t("a",{href:""},[t("i",{class:"fa fa-user view"})])],-1),At={class:"table-st d-none",id:"bloodBanks"},Mt={class:"table-st-head"},Ht=t("h4",null,"Blood Bank",-1),It={class:"input-seach"},Lt={class:"table-body"},Ut={class:"student-data"},Dt=t("tr",{class:"border"},[t("th",null,"#"),t("th",null,"Hospital name"),t("th",null,"Hospital city"),t("th",null,"Hospital lga"),t("th",null,"Blood number"),t("th",null,"Blood group"),t("th",null,"Blood component"),t("th",null,"Quantity"),t("th",null,"Collection date"),t("th",null,"Expiry date"),t("th",null,"App status"),t("th",null,"Action")],-1),Nt=t("td",null,o(1),-1),Pt={key:0,class:"status-approved"},Tt={key:0,href:""},jt=t("i",{class:"fa fa-plus-circle view"},null,-1),qt=[jt],Ft={key:1,href:""},Ot=t("i",{class:"fa fa-trash edit"},null,-1),Gt=[Ot],Kt={class:"modal d-none",id:"addBloodBank"},Qt={class:"modal-blood"},Rt=t("div",{class:"modal-head"},[t("p",null,"Add Blood Banks")],-1),Wt={class:"form-body"},Zt={class:"grid"},zt={class:"form-group"},Jt=t("option",{value:"",hidden:""},"Blood group",-1),Xt=["value"],Yt={class:"form-group"},te=x('<option value="" hidden>Blood component</option><option value="plasma">plasma</option><option value="red blood cells">red blood cells</option><option value="white blood cells">white blood cells</option><option value="platelets">platelets</option>',5),ee=[te],se={class:"form-group"},oe=x('<option value="" hidden>Quantity</option><option value="1 liters">1 liters</option><option value="2 liters">2 liters</option><option value="3 liters">3 liters</option><option value="4 liters">4 liters</option><option value="5 liters">5 liters</option>',6),le=[oe],de={class:"form-group"},ne=t("label",{for:""},"Collection date",-1),ae={class:"form-group"},ie=t("label",{for:""},"Expiry date",-1),ce={class:"modal-footer"},ue=["disabled"],re=t("button",{class:"delete",type:"button"},"Close",-1),pe={class:"table-st d-none",id:"profile"},he={class:"p-4 sm:p-8 bg-white shadow sm:rounded-lg"},_e={class:"p-4 sm:p-8 bg-white shadow sm:rounded-lg"},me={class:"p-4 sm:p-8 bg-white shadow sm:rounded-lg"},ke={__name:"HospitalProfile",props:{hospotals:Array,donors:Array,bloodGroup:Array,bloodInventories:Array|Object},setup(i){const p=I();document.getElementById("selectValue");const v=l=>{{let s=document.getElementById("editModal");s.style.display="flex"}},y=g({selectVal:""}),E=function(l){if(l){const s=document.getElementById("select").value;w.post("/update-status/hospital/"+s,y).then(e=>{e.data.status==200?(p.success("Updated status sucessfully"),location.reload()):p.error("Somthing went wrong")}).catch(e=>{e.response&&e.response.status===422&&p.error("Please select status")})}},C=l=>{{let s=document.getElementById("searchBar").value;s=s.toLowerCase();let e=document.getElementsByClassName("searchtab");for(let u=0;u<e.length;u++)e[u].innerHTML.toLowerCase().includes(s)?e[u].style.display="":e[u].style.display="none"}},$=l=>{{let s=document.getElementById("searchBarBlood").value;s=s.toLowerCase();let e=document.getElementsByClassName("rowBlood");for(let u=0;u<e.length;u++)e[u].innerHTML.toLowerCase().includes(s)?e[u].style.display="":e[u].style.display="none"}},S=l=>{document.getElementById("bloodBanks").style.display="block",document.getElementById("donors").style.display="none",document.getElementById("profile").style.display="none"},V=l=>{document.getElementById("bloodBanks").style.display="none",document.getElementById("profile").style.display="none",document.getElementById("donors").style.display="block"},A=l=>{document.getElementById("bloodBanks").style.display="none",document.getElementById("donors").style.display="none",document.getElementById("profile").style.display="block"},M=()=>{document.getElementById("addBloodBank").style.display="flex"},c=g({blood_group:"",blood_component:"",quantity:"",collection_date:"",expiry_date:""}),H=l=>{w.post("/blood-bank/create/"+l,c).then(s=>{s.data.status==200?(p.success("Updated status sucessfully"),location.reload()):(console.log(s),p.error("Somthing went wrong"))}).catch(s=>{s.response&&s.response.status===422&&p.error("Please fieald the form")})};return window.onclick=l=>{let s=document.getElementById("addBloodBank"),e=document.getElementById("editModal");l.target===s?s.style.display="none":l.target===e&&(e.style.display="none")},(l,s)=>(d(),n("div",null,[h(a(L),{title:"Hospital profile"}),h(U),t("section",F,[t("div",O,[t("div",G,[t("div",K,[Q,t("div",R,[t("div",W,[Z,t("div",z,[t("p",null,"Hi, "+o(i.hospotals[0].hostpital_name)+", Welcome to your profile",1)])])]),t("div",J,[t("div",X,[t("div",Y,[t("div",tt,[et,t("div",st,[t("h4",null,o(i.hospotals[0].hostpital_name),1),t("span",null,o(i.hospotals[0].moto_name),1)])]),t("div",ot,[l.$page.props.auth.user.role=="4"?(d(),n("div",lt,[h(a(P),{href:"/hostpitals/records"},{default:D(()=>[N(" Orther hospital ")]),_:1})])):l.$page.props.auth.user.role=="1"?(d(),n("div",dt,[i.hospotals[0].is_active==1?(d(),n("div",{key:0,class:"pyx status",onClick:s[0]||(s[0]=e=>v())}," Pendding ")):i.hospotals[0].is_active==2?(d(),n("div",{key:1,class:"pyx status-approved",onClick:s[1]||(s[1]=e=>v())}," Approved ")):i.hospotals[0].is_active==3?(d(),n("div",{key:2,class:"pyx status-reject",onClick:s[2]||(s[2]=e=>v())}," Decline ")):r("",!0),t("div",nt,[t("div",at,[it,t("form",{class:"modal-body",onSubmit:s[4]||(s[4]=B(e=>E(i.hospotals[0].user_id_none),["prevent"]))},[t("div",ct,[t("div",ut,[_(t("select",{id:"selectValue","onUpdate:modelValue":s[3]||(s[3]=e=>a(y).selectVal=e)},mt,512),[[m,a(y).selectVal]])])]),vt],32),t("input",{type:"hidden",value:i.hospotals[0].user_id_none,id:"select"},null,8,yt)])])])):r("",!0)])]),t("div",ft,[t("div",bt,[t("li",null,[t("span",{href:"#!",onClick:s[5]||(s[5]=e=>V())},"Own donors")]),t("li",null,[t("span",{href:"#!",onClick:s[6]||(s[6]=e=>S())},"My Blood banks")]),t("li",null,[l.$page.props.auth.user.id==i.hospotals[0].user_id_none?(d(),n("span",{key:0,href:"#!",onClick:s[7]||(s[7]=e=>A())},"Edit profile")):r("",!0)])])])])]),t("div",gt,[t("div",Bt,[kt,t("input",{type:"text",placeholder:"Search",onKeyup:s[8]||(s[8]=e=>C()),id:"searchBar"},null,32)]),t("div",wt,[t("table",xt,[Et,(d(!0),n(f,null,b(i.donors,e=>(d(),n("tr",{class:"searchtab",key:e.id},[t("td",null,o(e.id),1),t("td",null,o(e.user_name),1),t("td",null,o(e.email),1),t("td",null,o(e.phone_number),1),t("td",null,o(e.gender),1),t("td",null,o(e.blood_group),1),t("td",null,o(e.hiv_test),1),t("td",null,o(e.state),1),t("td",null,o(e.lga_names),1),t("td",null,o(e.home_address),1),t("td",null,o(e.reason),1),t("td",null,[e.is_active==1?(d(),n("div",Ct,"Pendding")):e.is_active==2?(d(),n("div",$t," Approved ")):e.is_active==3?(d(),n("div",St," Decline ")):r("",!0)]),Vt]))),128))])])]),t("div",At,[t("div",Mt,[Ht,t("div",It,[t("input",{type:"text",placeholder:"Search",onKeyup:s[9]||(s[9]=e=>$()),id:"searchBarBlood"},null,32),l.$page.props.auth.user.id==i.hospotals[0].user_id_none?(d(),n("div",{key:0,class:"button",onClick:M},"Add blood")):r("",!0)])]),t("div",Lt,[t("table",Ut,[Dt,(d(!0),n(f,null,b(i.bloodInventories,e=>(d(),n("tr",{class:"searchtab rowBlood",key:e.id},[Nt,t("td",null,o(e.hospital_name),1),t("td",null,o(e.hospital_city),1),t("td",null,o(e.hospital_lga),1),t("td",null,o("BG/"+e.id),1),t("td",null,o(e.blood_group),1),t("td",null,o(e.blood_component),1),t("td",null,o(e.quantity),1),t("td",null,o(e.collection_date),1),t("td",null,o(e.expiry_date),1),t("td",null,[e.is_active==1?(d(),n("div",Pt," Availabe ")):r("",!0)]),t("td",null,[l.$page.props.auth.user.role==4?(d(),n("a",Tt,qt)):r("",!0),l.$page.props.auth.user.id==e.user_id?(d(),n("a",Ft,Gt)):r("",!0)])]))),128))]),t("div",Kt,[t("div",Qt,[Rt,t("form",{class:"modal-body",onSubmit:s[15]||(s[15]=B(e=>H(i.hospotals[0].hospital_id),["prevent"]))},[t("div",Wt,[t("div",Zt,[t("div",zt,[_(t("select",{"onUpdate:modelValue":s[10]||(s[10]=e=>a(c).blood_group=e)},[Jt,(d(!0),n(f,null,b(i.bloodGroup,e=>(d(),n("option",{key:e.id,value:e.id},o(e.blood_name),9,Xt))),128))],512),[[m,a(c).blood_group]])]),t("div",Yt,[_(t("select",{"onUpdate:modelValue":s[11]||(s[11]=e=>a(c).blood_component=e)},ee,512),[[m,a(c).blood_component]])]),t("div",se,[_(t("select",{"onUpdate:modelValue":s[12]||(s[12]=e=>a(c).quantity=e)},le,512),[[m,a(c).quantity]])]),t("div",de,[_(t("input",{type:"date",placeholder:" ","onUpdate:modelValue":s[13]||(s[13]=e=>a(c).collection_date=e)},null,512),[[k,a(c).collection_date]]),ne]),t("div",ae,[_(t("input",{type:"date",placeholder:" ","onUpdate:modelValue":s[14]||(s[14]=e=>a(c).expiry_date=e)},null,512),[[k,a(c).expiry_date]]),ie])])]),t("div",ce,[t("button",{disabled:a(c).processing},"Save",8,ue),re])],32)])])])]),t("div",pe,[t("div",he,[h(q,{"must-verify-email":l.mustVerifyEmail,status:l.status,class:"max-w-xl"},null,8,["must-verify-email","status"])]),t("div",_e,[h(j,{class:"max-w-xl"})]),t("div",me,[h(T,{class:"max-w-xl"})])])])])])])]))}};export{ke as default};
