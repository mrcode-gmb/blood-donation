import{p as f,T as b,o,c as n,a as h,u,Z as g,m as k,b as e,t as i,F as C,r as B,d as r,w as S,e as D,x as V,q as $}from"./app-C_c4iFjf.js";const x={id:"mainbody"},w={class:"main-body"},A={class:"tabs",id:"tabls"},E={class:"str"},M=e("div",{class:"str-home"},[e("i",{class:"fa fa-home"}),e("div",{class:"db"},[e("h4",null,"Dashboard / Â "),e("p",null,"Donors records")])],-1),L={class:"full-chart"},N={class:"chart-title flex-class"},H=e("div",{class:"circle-success"},[e("i",{class:"fa fa-check-circle"})],-1),I={class:"circle-text"},j={class:"table-st"},F={class:"table-st-head"},P=e("h4",null,"Donors Records",-1),T={class:"table-body"},R={class:"student-data"},U=e("tr",{class:"border"},[e("th",null,"#"),e("th",null,"Full name"),e("th",null,"Email"),e("th",null,"GSM"),e("th",null,"Sex"),e("th",null,"Blood group"),e("th",null,"Hiv test"),e("th",null,"State"),e("th",null,"Lga"),e("th",null,"Home address"),e("th",null,"Why app"),e("th",null,"Blood certificate"),e("th",null,"App status")],-1),q=["href"],G={key:0},K=["onClick"],W=["onClick"],Y=["onClick"],Z={key:1},z={key:0,class:"status"},J={key:1,class:"status-approved"},O={key:2,class:"status-reject"},Q=["id"],X={class:"modal-dialog"},ee=e("div",{class:"modal-head"},[e("p",null,"Approve | Reject")],-1),te=["onSubmit"],se={class:"form-body"},le={class:"form-group"},ae=e("option",{value:"",hidden:""},"Change status",-1),ie=e("option",{value:1},"Pendding",-1),oe=e("option",{value:2},"Approved",-1),ne=e("option",{value:3},"Decline",-1),de=[ae,ie,oe,ne],ce={class:"modal-footer"},ue=e("button",null,"Save",-1),_e=["onClick"],he=["value","id"],pe={__name:"Donors",props:{donors:Array},setup(p){const _=f(),d=l=>{if(l){let s=document.getElementById(""+l);s.style.display="flex"}},v=l=>{if(l){let s=document.getElementById(""+l);s.style.display="none"}},c=b({selectVal:""}),m=function(l){if(l){const s=document.getElementById("select"+l).value;$.post("/update-status/"+s,c).then(t=>{t.data.status==200?(_.success("Updated status sucessfully"),location.reload()):(console.log(t),_.error("Somthing went wrong"))})}},y=l=>{{let s=document.getElementById("searchBar").value;s=s.toLowerCase();let t=document.getElementsByClassName("searchtab");for(let a=0;a<t.length;a++)t[a].innerHTML.toLowerCase().includes(s)?t[a].style.display="":t[a].style.display="none"}};return(l,s)=>(o(),n("div",null,[h(u(g),{title:"Apply"}),h(k),e("section",x,[e("div",w,[e("div",A,[e("div",E,[M,e("div",L,[e("div",N,[H,e("div",I,[e("p",null,"Hi, "+i(l.$page.props.auth.user.name)+" Your Verify Donors",1)])])]),e("div",j,[e("div",F,[P,e("input",{type:"text",placeholder:"Search",onKeyup:s[0]||(s[0]=t=>y()),id:"searchBar"},null,32)]),e("div",T,[e("table",R,[U,(o(!0),n(C,null,B(p.donors,t=>(o(),n("tr",{class:"searchtab",key:t.id},[e("td",null,i(t.id),1),e("td",null,i(t.user_name),1),e("td",null,i(t.email),1),e("td",null,i(t.phone_number),1),e("td",null,i(t.gender),1),e("td",null,i(t.blood_group),1),e("td",null,i(t.hiv_test),1),e("td",null,i(t.state),1),e("td",null,i(t.lga_names),1),e("td",null,i(t.home_address),1),e("td",null,i(t.reason),1),e("td",null,[e("a",{href:t.blood_certificate},"Blood certificate",8,q)]),e("td",null,[l.$page.props.auth.user.role==1?(o(),n("div",G,[t.is_active==1?(o(),n("div",{key:0,class:"status",onClick:a=>d(t.id)}," Pendding ",8,K)):t.is_active==2?(o(),n("div",{key:1,class:"status-approved",onClick:a=>d(t.id)}," Approved ",8,W)):t.is_active==3?(o(),n("div",{key:2,class:"status-reject",onClick:a=>d(t.id)}," Decline ",8,Y)):r("",!0)])):(o(),n("div",Z,[t.is_active==1?(o(),n("div",z," Pendding ")):t.is_active==2?(o(),n("div",J," Approved ")):t.is_active==3?(o(),n("div",O," Decline ")):r("",!0)]))]),e("div",{class:"modal d-none",id:t.id},[e("div",X,[ee,e("form",{class:"modal-body",onSubmit:S(a=>m(t.user_id_none),["prevent"])},[e("div",se,[e("div",le,[D(e("select",{id:"selectValue","onUpdate:modelValue":s[1]||(s[1]=a=>u(c).selectVal=a)},de,512),[[V,u(c).selectVal]])])]),e("div",ce,[ue,e("button",{class:"delete",type:"button",onClick:a=>v(t.id)},"Close",8,_e)])],40,te),e("input",{type:"hidden",value:t.user_id,id:t.selectName+t.user_id_none},null,8,he)])],8,Q)]))),128))])])])])])])])]))}};export{pe as default};
