import{p as y,T as f,o as d,c,a as n,u as B,Z as v,m as b,b as t,F as g,r as k,t as e,d as u,w,k as x,q as S}from"./app-C_c4iFjf.js";const C={id:"mainbody"},q={class:"main-body"},E={class:"tabs",id:"tabls"},N={class:"str"},R=x('<div class="str-home"><i class="fa fa-home"></i><div class="db"><h4>Dashboard / Â </h4><p>Blood Request</p></div></div><div class="full-chart"><div class="chart-title flex-class"><div class="circle-success"><i class="fa fa-check-circle"></i></div><div class="circle-text"><p>Your Blood Request from other hospitals </p></div></div></div>',2),A={class:"table-st",id:"bloodBanks"},H={class:"table-st-head"},L=t("h4",null,"Blood Request",-1),V={class:"input-seach"},$={class:"table-body"},M={class:"student-data"},T=t("tr",{class:"border"},[t("th",null,"#"),t("th",null,"Hospital name"),t("th",null,"Hospital city"),t("th",null,"Hospital lga"),t("th",null,"Blood number"),t("th",null,"Blood group"),t("th",null,"Blood component"),t("th",null,"Quantity"),t("th",null,"Collection date"),t("th",null,"Expiry date"),t("th",null,"Accept date"),t("th",null,"Blood status"),t("th",null,"Accept")],-1),D=t("td",null,e(1),-1),F={key:0,class:"status-approved"},Y={class:"text-center"},G=["onClick"],K=t("i",{class:"fa fa-plus-circle view"},null,-1),P=[K],Q=["id"],U={class:"modal-dialog"},Z=t("div",{class:"modal-head"},[t("p",null,"Burking Blood ")],-1),j=["onSubmit"],z=t("div",{class:"form-body"}," Are you sure you have been collect the blood ",-1),J=t("div",{class:"modal-footer"},[t("button",null,"Save"),t("button",{class:"delete",type:"button"},"Close")],-1),O=[z,J],X={__name:"BloodRequested",props:{bloodInventory:Array},setup(h){const i=y(),_=o=>{if(o){let l=document.getElementById(""+o);l.style.display="flex"}},r=f({comment:""}),p=function(o,l){o&&S.post("/accepted-blood/"+o+"/"+l,r).then(s=>{s.data.status==200?(i.success("Your have been burking this blood"),location.reload()):(console.log(s),i.error("Somthing went wrong"))}).catch(s=>{s.response&&s.response.status===422&&i.error("Please write the comment why need blood")})},m=o=>{{let l=document.getElementById("searchBarBlood").value;l=l.toLowerCase();let s=document.getElementsByClassName("rowBlood");for(let a=0;a<s.length;a++)s[a].innerHTML.toLowerCase().includes(l)?s[a].style.display="":s[a].style.display="none"}};return(o,l)=>(d(),c("div",null,[n(B(v),{title:"Blood Request"}),n(b),t("section",C,[t("div",q,[t("div",E,[t("div",N,[R,t("div",A,[t("div",H,[L,t("div",V,[t("input",{type:"text",placeholder:"Search",onKeyup:l[0]||(l[0]=s=>m()),id:"searchBarBlood"},null,32)])]),t("div",$,[t("table",M,[T,(d(!0),c(g,null,k(h.bloodInventory,s=>(d(),c("tr",{class:"searchtab rowBlood",key:s.id},[D,t("td",null,e(s.hospital_name),1),t("td",null,e(s.hospital_city),1),t("td",null,e(s.hospital_lga),1),t("td",null,e("BG/"+s.id),1),t("td",null,e(s.blood_group),1),t("td",null,e(s.blood_component),1),t("td",null,e(s.quantity),1),t("td",null,e(s.collection_date),1),t("td",null,e(s.expiry_date),1),t("td",null,e(s.accept_date),1),t("td",null,[s.is_active==2?(d(),c("div",F," Usage ")):u("",!0)]),t("td",Y,[s.hospital_id_he==s.hospital_id_own?(d(),c("a",{key:0,href:"#!",onClick:a=>_(s.id)},P,8,G)):u("",!0)]),t("div",{class:"modal d-none",id:s.id},[t("div",U,[Z,t("form",{class:"modal-body",onSubmit:w(a=>p(s.hospital_id,s.blood_usage_id),["prevent"])},O,40,j)])],8,Q)]))),128))])])])])])])])]))}};export{X as default};
