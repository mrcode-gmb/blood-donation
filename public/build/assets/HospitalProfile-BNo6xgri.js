import{p as L,T as B,o as d,c as n,a as h,u as a,Z as U,m as D,b as t,t as o,h as N,i as P,j as T,d as r,w as k,e as _,x as m,F as f,r as g,v as w,q as E,k as x}from"./app-Bev9O1Bh.js";import j from"./DeleteUserForm-C9PxsGze.js";import q from"./UpdatePasswordForm-Bl9xdAQG.js";import F from"./UpdateProfileInformationForm-Dvl-GVae.js";import"./TextInput-nt0ja9Ba.js";import"./PrimaryButton-VMnVD0lh.js";const O={id:"mainbody"},G={class:"main-body"},K={class:"tabs",id:"tabls",style:{"padding-bottom":"2rem"}},Q={class:"str"},R=t("div",{class:"str-home"},[t("i",{class:"fa fa-home"}),t("div",{class:"db"},[t("h4",null,"Dashboard / Â "),t("p",null,"Hospital profile")])],-1),W={class:"full-chart"},Z={class:"chart-title flex-class"},z=t("div",{class:"circle-success"},[t("i",{class:"fa fa-check-circle"})],-1),J={class:"circle-text"},X={class:"full-chart"},Y={class:"chart-title pb-0-px"},tt={class:"profile-card"},et={class:"profile flex-class"},st=t("div",{class:"profile-success"},[t("h4",null,"F")],-1),ot={class:"profile-caption"},lt={class:"profile-menu"},dt={key:0},nt={key:1},at={class:"modal d-none",id:"editModal"},it={class:"modal-dialog"},ut=t("div",{class:"modal-head"},[t("p",null,"Approve | Reject")],-1),ct={class:"form-body"},rt={class:"form-group"},pt=t("option",{value:"",hidden:""},"Change status",-1),ht=t("option",{value:1},"Pendding",-1),_t=t("option",{value:2},"Approved",-1),mt=t("option",{value:3},"Decline",-1),yt=[pt,ht,_t,mt],vt={class:"modal-footer"},ft=t("button",null,"Save",-1),gt=["value"],bt={class:"profile-tabs-new"},Bt={class:"profile-tab"},kt={class:"table-st",id:"donors"},wt={class:"table-st-head"},Et=t("h4",null,"Donors Records",-1),xt={class:"table-body"},Ct={class:"student-data"},$t=t("tr",{class:"border"},[t("th",null,"#"),t("th",null,"Full name"),t("th",null,"Email"),t("th",null,"GSM"),t("th",null,"Sex"),t("th",null,"Blood group"),t("th",null,"Hiv test"),t("th",null,"State"),t("th",null,"Lga"),t("th",null,"Home address"),t("th",null,"Why app"),t("th",null,"App status"),t("th",null,"Action")],-1),St={key:0,class:"status"},Vt={key:1,class:"status-approved"},At={key:2,class:"status-reject"},Mt=t("td",null,[t("a",{href:""},[t("i",{class:"fa fa-edit edit"})]),t("a",{href:""},[t("i",{class:"fa fa-user view"})])],-1),Ht={class:"table-st d-none",id:"bloodBanks"},It={class:"table-st-head"},Lt=t("h4",null,"Blood Bank",-1),Ut={class:"input-seach"},Dt={class:"table-body"},Nt={class:"student-data"},Pt=t("tr",{class:"border"},[t("th",null,"#"),t("th",null,"Hospital name"),t("th",null,"Hospital city"),t("th",null,"Hospital lga"),t("th",null,"Blood number"),t("th",null,"Blood group"),t("th",null,"Blood component"),t("th",null,"Quantity"),t("th",null,"Collection date"),t("th",null,"Expiry date"),t("th",null,"App status"),t("th",null,"Action")],-1),Tt=t("td",null,o(1),-1),jt={key:0,class:"status-approved"},qt={key:0,href:""},Ft=t("i",{class:"fa fa-plus-circle view"},null,-1),Ot=[Ft],Gt={key:1,href:""},Kt=t("i",{class:"fa fa-trash edit"},null,-1),Qt=[Kt],Rt={class:"modal d-none",id:"addBloodBank"},Wt={class:"modal-blood"},Zt=t("div",{class:"modal-head"},[t("p",null,"Add Blood Banks")],-1),zt={class:"form-body"},Jt={class:"grid"},Xt={class:"form-group"},Yt=t("option",{value:"",hidden:""},"Blood group",-1),te=["value"],ee={class:"form-group"},se=x('<option value="" hidden>Blood component</option><option value="plasma">plasma</option><option value="red blood cells">red blood cells</option><option value="white blood cells">white blood cells</option><option value="platelets">platelets</option>',5),oe=[se],le={class:"form-group"},de=x('<option value="" hidden>Quantity</option><option value="1 liters">1 liters</option><option value="2 liters">2 liters</option><option value="3 liters">3 liters</option><option value="4 liters">4 liters</option><option value="5 liters">5 liters</option>',6),ne=[de],ae={class:"form-group"},ie=t("label",{for:""},"Collection date",-1),ue={class:"form-group"},ce=t("label",{for:""},"Expiry date",-1),re={class:"modal-footer"},pe=["disabled"],he={class:"table-st d-none",id:"profile"},_e={class:"p-4 sm:p-8 bg-white shadow sm:rounded-lg"},me={class:"p-4 sm:p-8 bg-white shadow sm:rounded-lg"},ye={class:"p-4 sm:p-8 bg-white shadow sm:rounded-lg"},we={__name:"HospitalProfile",props:{hospotals:Array,donors:Array,bloodGroup:Array,bloodInventories:Array|Object},setup(i){const p=L();document.getElementById("selectValue");const y=l=>{{let s=document.getElementById("editModal");s.style.display="flex"}},v=B({selectVal:""}),C=function(l){if(l){const s=document.getElementById("select").value;E.post("/update-status/hospital/"+s,v).then(e=>{e.data.status==200?(p.success("Updated status sucessfully"),document.getElementById("editModal").style.display="none",location.reload()):p.error("Somthing went wrong")}).catch(e=>{e.response&&e.response.status===422?p.error("Please select status"):p.error("Somthing went wrong")})}},$=l=>{{let s=document.getElementById("searchBar").value;s=s.toLowerCase();let e=document.getElementsByClassName("searchtab");for(let c=0;c<e.length;c++)e[c].innerHTML.toLowerCase().includes(s)?e[c].style.display="":e[c].style.display="none"}},S=l=>{{let s=document.getElementById("searchBarBlood").value;s=s.toLowerCase();let e=document.getElementsByClassName("rowBlood");for(let c=0;c<e.length;c++)e[c].innerHTML.toLowerCase().includes(s)?e[c].style.display="":e[c].style.display="none"}},V=l=>{document.getElementById("bloodBanks").style.display="block",document.getElementById("donors").style.display="none",document.getElementById("profile").style.display="none"},A=l=>{document.getElementById("bloodBanks").style.display="none",document.getElementById("profile").style.display="none",document.getElementById("donors").style.display="block"},M=l=>{document.getElementById("bloodBanks").style.display="none",document.getElementById("donors").style.display="none",document.getElementById("profile").style.display="block"},H=()=>{document.getElementById("addBloodBank").style.display="flex"},u=B({blood_group:"",blood_component:"",quantity:"",collection_date:"",expiry_date:""}),I=l=>{E.post("/blood-bank/create/"+l,u).then(s=>{s.data.status==200?(p.success("Updated status sucessfully"),location.reload()):(console.log(s),p.error("Somthing went wrong"))}).catch(s=>{s.response&&s.response.status===422&&p.error("Please fieald the form")})},b=l=>{document.getElementById("editModal").style.display="none",document.getElementById("addBloodBank").style.display="none"};return window.onclick=l=>{let s=document.getElementById("addBloodBank"),e=document.getElementById("editModal");l.target===s?s.style.display="none":l.target===e&&(e.style.display="none")},(l,s)=>(d(),n("div",null,[h(a(U),{title:"Hospital profile"}),h(D),t("section",O,[t("div",G,[t("div",K,[t("div",Q,[R,t("div",W,[t("div",Z,[z,t("div",J,[t("p",null,"Hi, "+o(i.hospotals[0].hostpital_name)+", Welcome to your profile",1)])])]),t("div",X,[t("div",Y,[t("div",tt,[t("div",et,[st,t("div",ot,[t("h4",null,o(i.hospotals[0].hostpital_name),1),t("span",null,o(i.hospotals[0].moto_name),1)])]),t("div",lt,[l.$page.props.auth.user.role=="4"?(d(),n("div",dt,[h(a(T),{href:"/hostpitals/records"},{default:N(()=>[P(" Orther hospital ")]),_:1})])):l.$page.props.auth.user.role=="1"?(d(),n("div",nt,[i.hospotals[0].is_active==1?(d(),n("div",{key:0,class:"pyx status",onClick:s[0]||(s[0]=e=>y())}," Pendding ")):i.hospotals[0].is_active==2?(d(),n("div",{key:1,class:"pyx status-approved",onClick:s[1]||(s[1]=e=>y())}," Approved ")):i.hospotals[0].is_active==3?(d(),n("div",{key:2,class:"pyx status-reject",onClick:s[2]||(s[2]=e=>y())}," Decline ")):r("",!0),t("div",at,[t("div",it,[ut,t("form",{class:"modal-body",onSubmit:s[5]||(s[5]=k(e=>C(i.hospotals[0].user_id_none),["prevent"]))},[t("div",ct,[t("div",rt,[_(t("select",{id:"selectValue","onUpdate:modelValue":s[3]||(s[3]=e=>a(v).selectVal=e)},yt,512),[[m,a(v).selectVal]])])]),t("div",vt,[ft,t("button",{class:"delete",type:"button",onClick:s[4]||(s[4]=e=>b())}," Close ")])],32),t("input",{type:"hidden",value:i.hospotals[0].user_id_none,id:"select"},null,8,gt)])])])):r("",!0)])]),t("div",bt,[t("div",Bt,[t("li",null,[t("span",{href:"#!",onClick:s[6]||(s[6]=e=>A())},"Own donors")]),t("li",null,[t("span",{href:"#!",onClick:s[7]||(s[7]=e=>V())},"My Blood banks")]),t("li",null,[l.$page.props.auth.user.id==i.hospotals[0].user_id_none?(d(),n("span",{key:0,href:"#!",onClick:s[8]||(s[8]=e=>M())},"Edit profile")):r("",!0)])])])])]),t("div",kt,[t("div",wt,[Et,t("input",{type:"text",placeholder:"Search",onKeyup:s[9]||(s[9]=e=>$()),id:"searchBar"},null,32)]),t("div",xt,[t("table",Ct,[$t,(d(!0),n(f,null,g(i.donors,e=>(d(),n("tr",{class:"searchtab",key:e.id},[t("td",null,o(e.id),1),t("td",null,o(e.user_name),1),t("td",null,o(e.email),1),t("td",null,o(e.phone_number),1),t("td",null,o(e.gender),1),t("td",null,o(e.blood_group),1),t("td",null,o(e.hiv_test),1),t("td",null,o(e.state),1),t("td",null,o(e.lga_names),1),t("td",null,o(e.home_address),1),t("td",null,o(e.reason),1),t("td",null,[e.is_active==1?(d(),n("div",St,"Pendding")):e.is_active==2?(d(),n("div",Vt," Approved ")):e.is_active==3?(d(),n("div",At," Decline ")):r("",!0)]),Mt]))),128))])])]),t("div",Ht,[t("div",It,[Lt,t("div",Ut,[t("input",{type:"text",placeholder:"Search",onKeyup:s[10]||(s[10]=e=>S()),id:"searchBarBlood"},null,32),l.$page.props.auth.user.id==i.hospotals[0].user_id_none?(d(),n("div",{key:0,class:"button",onClick:H}," Add blood ")):r("",!0)])]),t("div",Dt,[t("table",Nt,[Pt,(d(!0),n(f,null,g(i.bloodInventories,e=>(d(),n("tr",{class:"searchtab rowBlood",key:e.id},[Tt,t("td",null,o(e.hospital_name),1),t("td",null,o(e.hospital_city),1),t("td",null,o(e.hospital_lga),1),t("td",null,o("BG/"+e.id),1),t("td",null,o(e.blood_group),1),t("td",null,o(e.blood_component),1),t("td",null,o(e.quantity),1),t("td",null,o(e.collection_date),1),t("td",null,o(e.expiry_date),1),t("td",null,[e.is_active==1?(d(),n("div",jt," Availabe ")):r("",!0)]),t("td",null,[l.$page.props.auth.user.role==4?(d(),n("a",qt,Ot)):r("",!0),l.$page.props.auth.user.id==e.user_id?(d(),n("a",Gt,Qt)):r("",!0)])]))),128))]),t("div",Rt,[t("div",Wt,[Zt,t("form",{class:"modal-body",onSubmit:s[17]||(s[17]=k(e=>I(i.hospotals[0].hospital_id),["prevent"]))},[t("div",zt,[t("div",Jt,[t("div",Xt,[_(t("select",{"onUpdate:modelValue":s[11]||(s[11]=e=>a(u).blood_group=e)},[Yt,(d(!0),n(f,null,g(i.bloodGroup,e=>(d(),n("option",{key:e.id,value:e.id},o(e.blood_name),9,te))),128))],512),[[m,a(u).blood_group]])]),t("div",ee,[_(t("select",{"onUpdate:modelValue":s[12]||(s[12]=e=>a(u).blood_component=e)},oe,512),[[m,a(u).blood_component]])]),t("div",le,[_(t("select",{"onUpdate:modelValue":s[13]||(s[13]=e=>a(u).quantity=e)},ne,512),[[m,a(u).quantity]])]),t("div",ae,[_(t("input",{type:"date",placeholder:" ","onUpdate:modelValue":s[14]||(s[14]=e=>a(u).collection_date=e)},null,512),[[w,a(u).collection_date]]),ie]),t("div",ue,[_(t("input",{type:"date",placeholder:" ","onUpdate:modelValue":s[15]||(s[15]=e=>a(u).expiry_date=e)},null,512),[[w,a(u).expiry_date]]),ce])])]),t("div",re,[t("button",{disabled:a(u).processing},"Save",8,pe),t("button",{class:"delete",type:"button",onClick:s[16]||(s[16]=e=>b())},"Close")])],32)])])])]),t("div",he,[t("div",_e,[h(F,{"must-verify-email":l.mustVerifyEmail,status:l.status,class:"max-w-xl"},null,8,["must-verify-email","status"])]),t("div",me,[h(q,{class:"max-w-xl"})]),t("div",ye,[h(j,{class:"max-w-xl"})])])])])])])]))}};export{we as default};
